SHOW DATABASES
SHOW DATABASES;
SHOW DATABASES SHOW DATABASES;
SHOW DATABASES;
USE ist187094
SHOW TABLES;
scp bank.sql ist187094@sigma.tecnico.ulisboa.pt
SHOW DATABASES;
scp bank.sql ist187094@sigma.tecnico.ulisboa.pt:
;
USE ist187094
SHOW TABLES;
SOURCE bank.sql
SHOW TABLES;
SELECT * FROM account;
SELECT balance
FROM account
WHERE account_number = 'A-101';
SELECT balance FROM account WHERE account_number = 'A-101';
DESCRIBE COSTUMER
;
DESCRIBE COSTUMER;
DESCRIBE costumer;
DESCRIBE customer;
DESCRIBE account;
HELP;
USE ist187094;
SHOW DATABASES;
USE ist187094
SHOW TABLES;
log out
;
LOG OUT;
EXIT;
USE ist187094;
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '%4%'
;
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '%4';
SELECT customer.customer_name FROM customer WHERE customer.customer_name like %4%;
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '[%4%]';
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '[0-4]';
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '%[0-4]%';
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '%[4]%';
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '%[A-Z][0-4]%';
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '%[A-Z][0-9]%';
SELECT customer.customer_name FROM customer WHERE customer.customer_name like '____';
SELECT customer.customer_name FROM customer WHERE customer.street like '____';
SELECT customer.customer_name FROM customer WHERE customer.customer_street like '____';
SELECT customer.customer_name, customer.customer_street, loan.loan_number, loan.amount FROM customer, loan WHERE customer.customer_street like '____';
SELECT customer.customer_name FROM customer, loan, account WHERE account.branch_name = loan.branch_name; 
SELECT*FROM account, loan;
SELECT*FROM account, loan, customer;
SELECT DISTINCT customer.customer_name FROM customer, loan, account WHERE account.branch_name = loan.branch_name;
quit;
SHOW DATABASES;
use ist187094
show tables;
scp clinic_tables.sql ist187094@sigma.tecnico.ulisboa.pt:
;
SOURCE clinic_tables.sql
SHOW TABLES;
select*from nurse;
select*from client;
select*from teeth;
select distinct client.VAT, client._name, PN.phone
from  (client natural join phone_number_client as PN), (appointment right outer join consultation on appointment.date_timestamp=consultation.date_timestamp)
where  client.VAT = appointment.VAT_client and consultation.VAT_doctor = all(select employee.VAT
                                                  from employee
                                                  where employee._name = 'Jane Sweettooth')
order by client._name;
select distinct client.VAT, client._name, PN.phone from  (client natural join phone_number_client as PN), (appointment right outer join consultation on appointment.date_timestamp=consultation.date_timestamp) where  client.VAT = appointment.VAT_client and consultation.VAT_doctor = all(select employee.VAT                                                   from employee                                                   where employee._name = 'Jane Sweettooth') order by client._name;
select E_t._name, SR.VAT, E_p._name, SR.evaluation, SR._description
from ((supervision_report as SR) natural left outer join trainee_doctor), employee as E_p, employee as E_t
where trainee_doctor.VAT=E_t.VAT and trainee_doctor.supervisor = E_p.VAT and (SR.evaluation < 3 or SR._description like '%insufficient')
order by SR.evaluation desc;
select E_t._name, SR.VAT, E_p._name, SR.evaluation, SR._description from ((supervision_report as SR) natural left outer join trainee_doctor), employee as E_p, employee as E_t where trainee_doctor.VAT=E_t.VAT and trainee_doctor.supervisor = E_p.VAT and (SR.evaluation < 3 or SR._description like '%insufficient') order by SR.evaluation desc;
select*from consultation;
SOURCE clinic_tables.sql
select*from consultation;
select*from clients;
select*from client;
select client._name, client.VAT, client.city, client.zip from client;
select client._name, client.VAT, client.city, client.zip from client, appointment, consultation
where client.VAT=appointment.VAT_client
and appointment.VAT_doctor=consultation.VAT_doctor
and appointment.date_timestamp=consultation.datetimestamp;
select client._name, client.VAT, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.VAT_doctor=consultation.VAT_doctor and appointment.date_timestamp=consultation.datetimestamp;
select datetimestamp from consultation;
select*from consultation;
select date_timestamp from consultation;
select client._name, client.VAT, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.VAT_doctor=consultation.VAT_doctor and appointment.date_timestamp=consultation.date_timestamp;
select client._name, client.VAT, client.city, client.zip, SOAP_O from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.VAT_doctor=consultation.VAT_doctor and appointment.date_timestamp=consultation.date_timestamp;
select client._name, client.VAT, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.VAT_doctor=consultation.VAT_doctor and appointment.date_timestamp=consultation.date_timestamp and (SOAP_S like '%gingivitis' or SOAP_S like 'periodontitis');
select client._name, client.VAT, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.VAT_doctor=consultation.VAT_doctor and appointment.date_timestamp=consultation.date_timestamp and (SOAP_S like '%gingivitis'
select client._name, client.VAT, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.VAT_doctor=consultation.VAT_doctor and appointment.date_timestamp=consultation.date_timestamp and (SOAP_O like '%gingivitis' or SOAP_O like 'periodontitis');
select client._name, client.VAT, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.VAT_doctor=consultation.VAT_doctor and appointment.date_timestamp=consultation.date_timestamp and (SOAP_O like '%gingivitis' or SOAP_O like '%periodontitis');
exit;
use ist187094
show tables
;
select client._name, client.VAT, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.VAT_doctor=consultation.VAT_doctor and appointment.date_timestamp=consultation.date_timestamp and (SOAP_O like '%gingivitis' or SOAP_O like '%periodontitis');
select client._name, client.VAT, client.street, client.city, client.zip from client;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment, consultation
where client.VAT=appointment.VAT_client
and appointment.date_timestamp=consultation.date_timestamp
and appointment.VAT_doctor=consultation.VAT_doctor;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor
left join consultation
on appointment.date_timestamp=consultation.date_timestamp
where consultation.date_timestamp is null;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor left join consultation on appointment.date_timestamp=consultation.date_timestamp where consultation.date_timestamp is null;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment, consultation where client.VAT=appointment.VAT_client and appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor and consultation.date_timestamp is null;
select client._name, client.VAT, client.street, client.city, client.zip
from client, appointment
left join consultation
on appointment.date_timestamp=consultation.date_timestamp
where consultation.date_timestamp is null;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment left join consultation on appointment.date_timestamp=consultation.date_timestamp where consultation.date_timestamp is null;
select client._name, client.VAT, client.street, client.city, client.zip
from client, appointment
left join consultation
on appointment.date_timestamp=consultation.date_timestamp
where consultation.date_timestamp is null
and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment left join consultation on appointment.date_timestamp=consultation.date_timestamp where consultation.date_timestamp is null and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip
from client, appointment
left join consultation
on appointment.date_timestamp=consultation.date_timestamp
and appointment.VAT_doctor=consultation.VAT_doctor
where consultation.date_timestamp is null
and consultation.VAT_doctor is null
and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment left join consultation on appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor where consultation.date_timestamp is null and consultation.VAT_doctor is null and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip
from client, appointment
left join consultation
on appointment.date_timestamp=consultation.date_timestamp
and appointment.VAT_doctor=consultation.VAT_doctor
where consultation.date_timestamp is null
and consultation.VAT_doctor is null
and appointment.date_timestamp=consultation.date_timestamp
and appointment.VAT_doctor=consultation.VAT_doctor
and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment left join consultation on appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor where consultation.date_timestamp is null and consultation.VAT_doctor is null and appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip
from client, appointment
left join consultation
on appointment.date_timestamp=consultation.date_timestamp
and appointment.VAT_doctor=consultation.VAT_doctor
where consultation.date_timestamp is null
and consultation.VAT_doctor is null
and appointment.date_timestamp=consultation.date_timestamp
and appointment.VAT_doctor=consultation.VAT_doctor
and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment left join consultation on appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor where consultation.date_timestamp is null and consultation.VAT_doctor is null and appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip
from client, appointment
left join consultation
on appointment.date_timestamp=consultation.date_timestamp
and appointment.VAT_doctor=consultation.VAT_doctor
where consultation.date_timestamp is null
and consultation.VAT_doctor is null
and client.VAT=appointment.VAT_client;
select client._name, client.VAT, client.street, client.city, client.zip from client, appointment left join consultation on appointment.date_timestamp=consultation.date_timestamp and appointment.VAT_doctor=consultation.VAT_doctor where consultation.date_timestamp is null and consultation.VAT_doctor is null and client.VAT=appointment.VAT_client;
use ist187094
source clinic_tables.sql
select*from procedure_charting;
use ist187094
show tables
;
select * from diagnostic
;
select * from diagnostic_code;
select diagnostic_code.ID, diagnostic_code.description from diagnostic_code;
select * from diagnostic_code;
select diagnostic_code.ID, diagnostic_code._description from diagnostic_code;
select diagnostic_code.ID, diagnostic_code._description from diagnostic_code, consultation_diagnostic
where diagnostic_code.ID=consultation_diagnostic.ID;
select diagnostic_code.ID, diagnostic_code._description from diagnostic_code, consultation_diagnostic where diagnostic_code.ID=consultation_diagnostic.ID;
select diagnostic_code.ID, diagnostic_code._description, prescription._name
from diagnostic_code, consultation_diagnostic, prescription
where diagnostic_code.ID=consultation_diagnostic.ID
and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor
and consultation_diagnostic.date_timestamp=prescription.date_timestamp
and consultation_diagnostic.ID=prescription.ID;
select diagnostic_code.ID, diagnostic_code._description, prescription._name from diagnostic_code, consultation_diagnostic, prescription where diagnostic_code.ID=consultation_diagnostic.ID and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor and consultation_diagnostic.date_timestamp=prescription.date_timestamp and consultation_diagnostic.ID=prescription.ID;
source clinic_tables.sql
select diagnostic_code.ID, diagnostic_code._description, prescription._name from diagnostic_code, consultation_diagnostic, prescription where diagnostic_code.ID=consultation_diagnostic.ID and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor and consultation_diagnostic.date_timestamp=prescription.date_timestamp and consultation_diagnostic.ID=prescription.ID;
select diagnostic_code.ID, diagnostic_code._description, prescription._name
from diagnostic_code, consultation_diagnostic, prescription
where diagnostic_code.ID=consultation_diagnostic.ID
and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor
and consultation_diagnostic.date_timestamp=prescription.date_timestamp
and consultation_diagnostic.ID=prescription.ID;
select diagnostic_code.ID, diagnostic_code._description, prescription._name from diagnostic_code, consultation_diagnostic, prescription where diagnostic_code.ID=consultation_diagnostic.ID and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor and consultation_diagnostic.date_timestamp=prescription.date_timestamp and consultation_diagnostic.ID=prescription.ID;
select distinct diagnostic_code.ID, diagnostic_code._description, prescription._name
from diagnostic_code, consultation_diagnostic, prescription
where diagnostic_code.ID=consultation_diagnostic.ID
and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor
and consultation_diagnostic.date_timestamp=prescription.date_timestamp
and consultation_diagnostic.ID=prescription.ID;
select distinct diagnostic_code.ID, diagnostic_code._description, prescription._name from diagnostic_code, consultation_diagnostic, prescription where diagnostic_code.ID=consultation_diagnostic.ID and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor and consultation_diagnostic.date_timestamp=prescription.date_timestamp and consultation_diagnostic.ID=prescription.ID;
select distinct diagnostic_code.ID, diagnostic_code._description, prescription._name from diagnostic_code, consultation_diagnostic, prescription where diagnostic_code.ID=consultation_diagnostic.ID and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor and consultation_diagnostic.date_timestamp=prescription.date_timestamp and consultation_diagnostic.ID=prescription.ID order by prescription._name;
source clinic_tables.sql
select distinct diagnostic_code.ID, diagnostic_code._description, prescription._name from diagnostic_code, consultation_diagnostic, prescription where diagnostic_code.ID=consultation_diagnostic.ID and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor and consultation_diagnostic.date_timestamp=prescription.date_timestamp and consultation_diagnostic.ID=prescription.ID order by prescription._name;
select distinct diagnostic_code.ID, diagnostic_code._description, prescription._name from diagnostic_code, consultation_diagnostic, prescription where diagnostic_code.ID=consultation_diagnostic.ID and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor and consultation_diagnostic.date_timestamp=prescription.date_timestamp and consultation_diagnostic.ID=prescription.ID;
select distinct diagnostic_code.ID, diagnostic_code._description, prescription._name from diagnostic_code, consultation_diagnostic, prescription where diagnostic_code.ID=consultation_diagnostic.ID and consultation_diagnostic.VAT_doctor=prescription.VAT_doctor and consultation_diagnostic.date_timestamp=prescription.date_timestamp and consultation_diagnostic.ID=prescription.ID order by prescription._name;
select  '>= 18' as group_ ,count(consultation_assistant.VAT_NURSE)/(select count(*) from nurse) as AVG_nurse,
        count(consultation_diagnostic.ID)/(select count(*) from consultation_diagnostic) as AVG_diagnostic_code,
        count(procedure_in_consultation.date_timestamp)/(select count(*) from procedure_in_consultation) as AVG_procedure,
        count(prescription.date_timestamp)/(select count(*) from prescription) as AVG_prescription
from consultation inner join appointment on consultation.date_timestamp = appointment.date_timestamp
    inner join client on appointment.VAT_CLIENT=client.VAT
    inner join consultation_assistant on consultation_assistant.date_timestamp = consultation.date_timestamp
    inner join consultation_diagnostic on consultation_diagnostic.date_timestamp = consultation.date_timestamp
    inner join procedure_in_consultation on procedure_in_consultation.date_timestamp = consultation.date_timestamp
    inner join prescription on prescription.date_timestamp = consultation.date_timestamp
    inner join _procedure on _procedure._name = procedure_in_consultation._name
where  procedure_in_consultation.date_timestamp like '2019%' and client.age >= 18
Union all
select  '<  18' as group_ ,count(consultation_assistant.VAT_NURSE)/(select count(*) from nurse) as AVG_nurse,
        count(consultation_diagnostic.ID)/(select count(*) from consultation_diagnostic) as AVG_diagnostic_code,
        count(procedure_in_consultation.date_timestamp)/(select count(*) from procedure_in_consultation) as AVG_procedure,
        count(prescription.date_timestamp)/(select count(*) from prescription) as AVG_prescription
from consultation inner join appointment on consultation.date_timestamp = appointment.date_timestamp
    inner join client on appointment.VAT_CLIENT=client.VAT
    inner join consultation_assistant on consultation_assistant.date_timestamp = consultation.date_timestamp
    inner join consultation_diagnostic on consultation_diagnostic.date_timestamp = consultation.date_timestamp
    inner join procedure_in_consultation on procedure_in_consultation.date_timestamp = consultation.date_timestamp
    inner join prescription on prescription.date_timestamp = consultation.date_timestamp
    inner join _procedure on _procedure._name = procedure_in_consultation._name
where  procedure_in_consultation.date_timestamp like '2019%' and client.age < 18;
select  '>= 18' as group_ ,count(consultation_assistant.VAT_NURSE)/(select count(*) from nurse) as AVG_nurse,         count(consultation_diagnostic.ID)/(select count(*) from consultation_diagnostic) as AVG_diagnostic_code,         count(procedure_in_consultation.date_timestamp)/(select count(*) from procedure_in_consultation) as AVG_procedure,         count(prescription.date_timestamp)/(select count(*) from prescription) as AVG_prescription from consultation inner join appointment on consultation.date_timestamp = appointment.date_timestamp     inner join client on appointment.VAT_CLIENT=client.VAT     inner join consultation_assistant on consultation_assistant.date_timestamp = consultation.date_timestamp     inner join consultation_diagnostic on consultation_diagnostic.date_timestamp = consultation.date_timestamp     inner join procedure_in_consultation on procedure_in_consultation.date_timestamp = consultation.date_timestamp     inner join prescription on prescription.date_timestamp = consultation.date_timestamp     inner join _procedure on _procedure._name = procedure_in_consultation._name where  procedure_in_consultation.date_timestamp like '2019%' and client.age >= 18  Union all  select  '<  18' as group_ ,count(consultation_assistant.VAT_NURSE)/(select count(*) from nurse) as AVG_nurse,         count(consultation_diagnostic.ID)/(select count(*) from consultation_diagnostic) as AVG_diagnostic_code,         count(procedure_in_consultation.date_timestamp)/(select count(*) from procedure_in_consultation) as AVG_procedure,         count(prescription.date_timestamp)/(select count(*) from prescription) as AVG_prescription from consultation inner join appointment on consultation.date_timestamp = appointment.date_timestamp     inner join client on appointment.VAT_CLIENT=client.VAT     inner join consultation_assistant on consultation_assistant.date_timestamp = consultation.date_timestamp     inner join consultation_diagnostic on consultation_diagnostic.date_timestamp = consultation.date_timestamp     inner join procedure_in_consultation on procedure_in_consultation.date_timestamp = consultation.date_timestamp     inner join prescription on prescription.date_timestamp = consultation.date_timestamp     inner join _procedure on _procedure._name = procedure_in_consultation._name where  procedure_in_consultation.date_timestamp like '2019%' and client.age < 18;
souce clinic_tables.sql
;
source clinic_tables.sql
use ist187094
delimiter $$
create function exercise1(c_name varchar(255))
returns integer
begin
  declare result, num1, num2 integer;
  select sum(balance) into num1
  from account natural join depositor
  where customer_name = c_name;
  select sum(amount) into num2
  from loan natural join borrower
  where customer_name = c_name;
  return abs(num1 - num2);
end$$
create function exercise1(c_name varchar(255)) returns integer begin   declare result, num1, num2 integer;   select sum(balance) into num1   from account natural join depositor   where customer_name = c_name;   select sum(amount) into num2   from loan natural join borrower   where customer_name = c_name;   return abs(num1 - num2); end$$
select * from exercise1('Smith');
use ist187094
select exercise1('Smith');
use ist187094
show tables;
show functions;
show function status;
show function exercise1;
show create function exercise1;
delete function exercise1;
drop function exercise1;
show function status;
drop function account_count1;
delimiter $$
create function absolute_balance(c_name varchar(255))
returns integer
begin
  declare result, num1, num2 integer;
  select sum(balance) into num1
  from account natural join depositor
  where customer_name = c_name;
  select sum(amount) into num2
  from loan natural join borrower
  where customer_name = c_name;
  return abs(num1 - num2);
end$$
create function absolute_balance(c_name varchar(255)) returns integer begin   declare result, num1, num2 integer;   select sum(balance) into num1   from account natural join depositor   where customer_name = c_name;   select sum(amount) into num2   from loan natural join borrower   where customer_name = c_name;   return abs(num1 - num2); end$$
select * from absolute_balance('Smith')
;
use ist187094
select * from absolute_balance('Smith');
select absolute_balance('Smith');
select absolute_balance(*);
select customer_name, absolute_balance(customer_name) from customer;
select customer_name, absolute_balance(customer_name) from customer where absolute_balance(customer_name) is not null;
select customer_name
from customer 
where absolute_balance(customer_name) = max(absolute_balance(customer_name))
and absolute_balance(customer_name) is not null;
select customer_name from customer  where absolute_balance(customer_name) = max(absolute_balance(customer_name)) and absolute_balance(customer_name) is not null;
select customer_name, absolute_balance(customer_name)
from customer 
where absolute_balance(customer_name) = max(absolute_balance(customer_name))
and absolute_balance(customer_name) is not null;
select customer_name, absolute_balance(customer_name) from customer  where absolute_balance(customer_name) = max(absolute_balance(customer_name)) and absolute_balance(customer_name) is not null;
select customer_name, absolute_balance(customer_name)
from customer 
where max(absolute_balance(customer_name)) = absolute_balance(customer_name)
and absolute_balance(customer_name) is not null;
select customer_name, absolute_balance(customer_name) from customer  where max(absolute_balance(customer_name)) = absolute_balance(customer_name) and absolute_balance(customer_name) is not null;
select customer_name,max(absBalance(customer_name))
from customer;
select customer_name,max(absBalance(customer_name)) from customer;
select customer_name,max(absBalance(customer_name))
from customer;
select customer_name,max(absBalance(customer_name)) from customer;
select customer_name,max(absolute_balance(customer_name))
from customer;
select customer_name,max(absolute_balance(customer_name)) from customer;
select customer_name
from customer 
where max(absolute_balance(customer_name))
and absolute_balance(customer_name) is not null;
select customer_name from customer  where max(absolute_balance(customer_name)) and absolute_balance(customer_name) is not null;
select customer_name
from customer 
where max(absolute_balance(customer_name));
select customer_name from customer  where max(absolute_balance(customer_name));
select customer_name,max(absolute_balance(customer_name))
from customer
where absolute_balance(customer_name) is not null;
select customer_name,max(absolute_balance(customer_name)) from customer where absolute_balance(customer_name) is not null;
select customer_name,max(absolute_balance(customer_name))
from customer
where max(absolute_balance(customer_name)) is not null;
select customer_name,max(absolute_balance(customer_name)) from customer where max(absolute_balance(customer_name)) is not null;
select customer_name, (max(absolute_balance(customer_name)))
from customer;
select customer_name, (max(absolute_balance(customer_name))) from customer;
select customer_name
from customer
where absolute_balance(customer_name) = max(absolute_balance(customer_name));
select customer_name from customer where absolute_balance(customer_name) = max(absolute_balance(customer_name));
select customer_name
from customer
where max(absolute_balance(customer_name)) > absolute_balance(customer_name);
select customer_name from customer where max(absolute_balance(customer_name)) > absolute_balance(customer_name);
select customer_name
from customer
where max(absolute_balance(customer_name)) is not null;
select customer_name from customer where max(absolute_balance(customer_name)) is not null;
select customer_name
from customer
where max(absolute_balance(customer_name));
select customer_name from customer where max(absolute_balance(customer_name));
delimiter $$
create procedure reward_accounts(in interest_rate float)
begin
  update account
  set balance = balance + interest_rate * balance;
end$$
create procedure reward_accounts(in interest_rate float) begin   update account   set balance = balance + interest_rate * balance; end$$
call reward_accounts(0.01);
;
use ist187094
delimiter $$
create procedure list_costumer(in branch_name varchar(255))
begin
  select customer_name
  from depositor as d, account as a
  where d.account_number = a.account_number
  and a.branch_name = branch_name;
end$$
create procedure list_costumer(in branch_name varchar(255)) begin   select customer_name   from depositor as d, account as a   where d.account_number = a.account_number   and a.branch_name = branch_name; end$$
drop procedure list_costumer;
use ist187094
drop procedure list_costumer;
delimiter $$
create procedure list_customer(in branch_name varchar(255))
begin
  select customer_name
  from depositor as d, account as a
  where d.account_number = a.account_number
  and a.branch_name = branch_name;
end$$
create procedure list_customer(in branch_name varchar(255)) begin   select customer_name   from depositor as d, account as a   where d.account_number = a.account_number   and a.branch_name = branch_name; end$$
call list_customer('Brighton');
;
use ist187094
call list_customer('Brighton');
delimiter $$
create trigger check_balance before update on account
for each row
begin
  if new.balance < 0 then
    insert into loan values (new.account_number,
                                new.branch_name,
                                (-1)*new.balance);
    insert into borrower (
      select customer_name, account_number
      from depositor as d
      where d.account_number = new.account_number);
    
    set new.balance = 0;
  end if;
end$$
create trigger check_balance before update on account for each row begin   if new.balance < 0 then     insert into loan values (new.account_number,                                 new.branch_name,                                 (-1)*new.balance);      insert into borrower (       select customer_name, account_number       from depositor as d       where d.account_number = new.account_number);          set new.balance = 0;   end if; end$$
delimiter $$
create trigger check_amount before update on loan
for each row
begin
  if new.amount < 0 then
    insert into account values (new.loan_number,
                                new.branch_name,
                                (-1)*new.amount);
    insert into depositor (
      select customer_name, loan_number
      from borrower as b
      where b.loan_number = new.loan_number);
    set new.amount = 0;
  end if;
end$$
create trigger check_amount before update on loan for each row begin   if new.amount < 0 then     insert into account values (new.loan_number,                                 new.branch_name,                                 (-1)*new.amount);      insert into depositor (       select customer_name, loan_number       from borrower as b       where b.loan_number = new.loan_number);      set new.amount = 0;   end if; end$$
select loan_number, branch_name, amount
from loan;
use ist187094;
select loan_number, branch_name, amount from loan;
update loan
set amount = amount-1200
where loan_number = 'L-17';
update loan set amount = amount-1200 where loan_number = 'L-17';
select loan_number, branch_name, amount from loan;
select customer_name, account_number
from depositor;
select customer_name, account_number from depositor;
select account_number, branch_name, balance
from account;
select account_number, branch_name, balance from account;
use ist187094
select appointment;
select * from appointment;
select * from account
;
use ist187094
select * from consultation;
select*from appointment;
select consultation.(*) from consultation c, appointment a where c.VAT_doctor=a.VAT_doctor and c.date_timestamp=a.date_timestamp and a.VAT_client=14009;
select*from client;
use ist187094
select*from consultation;
delete from consultation where date_timestamp = '2020-12-23 12:12:00';
select*from consultation;
select*from consultation_diagnostic;
select*from prescription;
select*from consultation_assistant;
use ist187094
delete from consultation where date_timestamp = '2020-12-23 12:12:00';
delete from consultation_diagnostic where date_timestamp = '2020-12-23 12:12:00';
delete from consultation_assistant where date_timestamp = '2020-12-23 12:12:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
delete from consultation_assistant where date_timestamp = '2020-12-13 12:12:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
delete from consultation_assistant where date_timestamp = '2020-12-13 12:12:00';
delete from consultation_diagnostic where date_timestamp = '2020-12-23 12:12:00';
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
select _name from medication;
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
insert into prescription values ('xanax');
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
SELECT lab FROM medication WHERE _name = 'Xanax';
SELECT lab FROM medication;
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
delete from prescription where date_timestamp = '2020-12-13 12:12:00';
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
delete from prescription where date_timestamp = '2020-12-13 12:12:00';
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
select * from client where 1;
select * from client;
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description, P._name, P.lab, P.dosage, P._description
        FROM consultation C, consultation_diagnostic CD, diagnostic_code DC, prescription P
        WHERE C.VAT_doctor = '11982'
        AND C.date_timestamp = '2020-12-13%2012:12:00'
        AND C.VAT_doctor = CD.VAT_doctor
        AND C.date_timestamp = CD.date_timestamp
        AND CD.ID = DC.ID
        AND CD.VAT_doctor = P.VAT_doctor
        AND CD.date_timestamp = P.date_timestamp
        AND CD.ID = P.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description, P._name, P.lab, P.dosage, P._description         FROM consultation C, consultation_diagnostic CD, diagnostic_code DC, prescription P         WHERE C.VAT_doctor = '11982'         AND C.date_timestamp = '2020-12-13%2012:12:00'         AND C.VAT_doctor = CD.VAT_doctor         AND C.date_timestamp = CD.date_timestamp         AND CD.ID = DC.ID         AND CD.VAT_doctor = P.VAT_doctor         AND CD.date_timestamp = P.date_timestamp         AND CD.ID = P.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P
        FROM consultation C
        WHERE C.VAT_doctor = '11982'
        AND C.date_timestamp = '2020-12-13%2012:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P         FROM consultation C         WHERE C.VAT_doctor = '11982'         AND C.date_timestamp = '2020-12-13%2012:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P
        FROM consultation C
        WHERE C.VAT_doctor = '11982'
        AND C.date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P         FROM consultation C         WHERE C.VAT_doctor = '11982'         AND C.date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description, P._name, P.lab, P.dosage, P._description
        FROM consultation C, consultation_diagnostic CD, diagnostic_code DC, prescription P
        WHERE C.VAT_doctor = '11982'
        AND C.date_timestamp = '2020-12-13 12:12:00'
        AND C.VAT_doctor = CD.VAT_doctor
        AND C.date_timestamp = CD.date_timestamp
        AND CD.ID = DC.ID
        AND CD.VAT_doctor = P.VAT_doctor
        AND CD.date_timestamp = P.date_timestamp
        AND CD.ID = P.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description, P._name, P.lab, P.dosage, P._description         FROM consultation C, consultation_diagnostic CD, diagnostic_code DC, prescription P         WHERE C.VAT_doctor = '11982'         AND C.date_timestamp = '2020-12-13 12:12:00'         AND C.VAT_doctor = CD.VAT_doctor         AND C.date_timestamp = CD.date_timestamp         AND CD.ID = DC.ID         AND CD.VAT_doctor = P.VAT_doctor         AND CD.date_timestamp = P.date_timestamp         AND CD.ID = P.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description
        FROM consultation C, consultation_diagnostic CD
        WHERE C.VAT_doctor = '11982'
        AND C.date_timestamp = '2020-12-13 12:12:00'
        AND C.VAT_doctor = CD.VAT_doctor
        AND C.date_timestamp = CD.date_timestamp
        IF CD.VAT_doctor IS NULL
        BEGIN
          {CD.VAT_doctor = 'nada'};
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description         FROM consultation C, consultation_diagnostic CD         WHERE C.VAT_doctor = '11982'         AND C.date_timestamp = '2020-12-13 12:12:00'         AND C.VAT_doctor = CD.VAT_doctor         AND C.date_timestamp = CD.date_timestamp         IF CD.VAT_doctor IS NULL         BEGIN           {CD.VAT_doctor = 'nada'};
        END
        IF CD.date_timestamp IS NULL
        BEGIN
          {CD.date_timestamp = 'nada'};
END         IF CD.date_timestamp IS NULL         BEGIN           {CD.date_timestamp = 'nada'};
        END;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description
        FROM consultation C, consultation_diagnostic CD
        WHERE C.VAT_doctor = '11982'
        AND C.date_timestamp = '2020-12-13 12:12:00'
        AND C.VAT_doctor = CD.VAT_doctor
        AND C.date_timestamp = CD.date_timestamp
        IF CD.VAT_doctor IS NULL
        BEGIN
          {CD.VAT_doctor = 'nada'}
        END
        IF CD.date_timestamp IS NULL
        BEGIN
          {CD.date_timestamp = 'nada'}
        END;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description         FROM consultation C, consultation_diagnostic CD         WHERE C.VAT_doctor = '11982'         AND C.date_timestamp = '2020-12-13 12:12:00'         AND C.VAT_doctor = CD.VAT_doctor         AND C.date_timestamp = CD.date_timestamp         IF CD.VAT_doctor IS NULL         BEGIN           {CD.VAT_doctor = 'nada'}         END         IF CD.date_timestamp IS NULL         BEGIN           {CD.date_timestamp = 'nada'}         END;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P
        FROM consultation C, consultation_diagnostic CD
        WHERE C.VAT_doctor = '11982'
        AND C.date_timestamp = '2020-12-13 12:12:00'
        AND CD.ID IS NULL;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P         FROM consultation C, consultation_diagnostic CD         WHERE C.VAT_doctor = '11982'         AND C.date_timestamp = '2020-12-13 12:12:00'         AND CD.ID IS NULL;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P
        FROM consultation C
        WHERE C.VAT_doctor = '11982'
        AND C.date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P         FROM consultation C         WHERE C.VAT_doctor = '11982'         AND C.date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P
        FROM consultation C, consultation_diagnostic CD
        AND CD.ID IS NULL;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P         FROM consultation C, consultation_diagnostic CD         AND CD.ID IS NULL;
(select * from consultation)
except
(select * from consultation_diagnostic);
(select * from consultation) except (select * from consultation_diagnostic);
(select * from consultation_diagnostic);
(select VAT_doctor from consultation)
except
(select VAT_doctor from consultation_diagnostic);
(select VAT_doctor from consultation) except (select VAT_doctor from consultation_diagnostic);
select distinct VAT_doctor
from consultation
where VAT_doctor in (select VAT_doctor from consultation_diagnostic);
select distinct VAT_doctor from consultation where VAT_doctor in (select VAT_doctor from consultation_diagnostic);
select VAT_doctor
from consultation
where VAT_doctor in (select VAT_doctor from consultation_diagnostic);
select VAT_doctor from consultation where VAT_doctor in (select VAT_doctor from consultation_diagnostic);
select VAT_doctor
from consultation
where VAT_doctor in (select VAT_doctor from prescription);
select VAT_doctor from consultation where VAT_doctor in (select VAT_doctor from prescription);
select * from prescription;
select distinct VAT_doctor
from consultation
where VAT_doctor not in (select VAT_doctor from prescription);
select distinct VAT_doctor from consultation where VAT_doctor not in (select VAT_doctor from prescription);
select VAT_doctor
from consultation
where VAT_doctor not in (select VAT_doctor from prescription);
select VAT_doctor from consultation where VAT_doctor not in (select VAT_doctor from prescription);
select*from consultation
;
select VAT_doctor from consultation where VAT_doctor not in (select VAT_doctor from consultation_diagnostic);
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P
            FROM consultation C
            WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM consultation_diagnostic);
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P             FROM consultation C             WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM consultation_diagnostic);
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P
FROM consultation C
WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM consultation_diagnostic)
AND C.VAT_doctor = '11982'
AND C.date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P FROM consultation C WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM consultation_diagnostic) AND C.VAT_doctor = '11982' AND C.date_timestamp = '2020-12-13 12:12:00';
delete from consultation_diagnostic where date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description
            FROM consultation C, consultation_diagnostic CD
            WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM prescription)
            AND C.VAT_doctor = '15101'
            AND C.date_timestamp = '2020-12-13 12:12:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, DC.ID, DC._description             FROM consultation C, consultation_diagnostic CD             WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM prescription)             AND C.VAT_doctor = '15101'             AND C.date_timestamp = '2020-12-13 12:12:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, CD._description
            FROM consultation C, consultation_diagnostic CD
            WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM prescription)
            AND C.VAT_doctor = '15101'
            AND C.date_timestamp = '2020-12-13 12:12:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, CD._description             FROM consultation C, consultation_diagnostic CD             WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM prescription)             AND C.VAT_doctor = '15101'             AND C.date_timestamp = '2020-12-13 12:12:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp;
select CD._description from consultation_diagnostic;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM prescription)
            AND C.VAT_doctor = '15101'
            AND C.date_timestamp = '2020-12-13 12:12:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE VAT_doctor NOT IN (SELECT VAT_doctor FROM prescription)             AND C.VAT_doctor = '15101'             AND C.date_timestamp = '2020-12-13 12:12:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
            AND C.VAT_doctor = '15101'
            AND C.date_timestamp = '2020-12-13 12:12:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)             AND C.VAT_doctor = '15101'             AND C.date_timestamp = '2020-12-13 12:12:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
select * from consultation_diagnostic;
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
select * from consultation_diagnostic;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
            AND C.VAT_doctor = '15101'
            AND C.date_timestamp = '2020-12-13 12:12:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)             AND C.VAT_doctor = '15101'             AND C.date_timestamp = '2020-12-13 12:12:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
            AND C.VAT_doctor = '11982'
            AND C.date_timestamp = '2020-12-13 12:12:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)             AND C.VAT_doctor = '11982'             AND C.date_timestamp = '2020-12-13 12:12:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
delete from consultation where date_timestamp = '2019-11-26 16:00:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
            AND C.VAT_doctor = '11982'
            AND C.date_timestamp = '2020-12-13 12:12:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)             AND C.VAT_doctor = '11982'             AND C.date_timestamp = '2020-12-13 12:12:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
            AND C.VAT_doctor = '25001'
            AND C.date_timestamp = '2019-11-26 16:00:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)             AND C.VAT_doctor = '25001'             AND C.date_timestamp = '2019-11-26 16:00:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
select * from consultation_diagnostic;
select*from prescription;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID
            FROM consultation C, consultation_diagnostic CD
            WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
            AND C.VAT_doctor = '25001'
            AND C.date_timestamp = '2019-11-26 16:00:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID             FROM consultation C, consultation_diagnostic CD             WHERE C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)             AND C.VAT_doctor = '25001'             AND C.date_timestamp = '2019-11-26 16:00:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
            AND C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P))
            AND C.VAT_doctor = '25001'
            AND C.date_timestamp = '2019-11-26 16:00:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)             AND C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P))             AND C.VAT_doctor = '25001'             AND C.date_timestamp = '2019-11-26 16:00:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
            OR C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P))
            AND C.VAT_doctor = '25001'
            AND C.date_timestamp = '2019-11-26 16:00:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)             OR C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P))             AND C.VAT_doctor = '25001'             AND C.date_timestamp = '2019-11-26 16:00:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID
            FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
            WHERE C.VAT_doctor, C.date_timestamp NOT IN (SELECT P.VAT_doctor, P.date_timestamp FROM prescription P)
            AND C.VAT_doctor = '25001'
            AND C.date_timestamp = '2019-11-26 16:00:00'
            AND C.VAT_doctor = CD.VAT_doctor
            AND C.date_timestamp = CD.date_timestamp
            AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID             FROM consultation C, consultation_diagnostic CD, diagnostic_code DC             WHERE C.VAT_doctor, C.date_timestamp NOT IN (SELECT P.VAT_doctor, P.date_timestamp FROM prescription P)             AND C.VAT_doctor = '25001'             AND C.date_timestamp = '2019-11-26 16:00:00'             AND C.VAT_doctor = CD.VAT_doctor             AND C.date_timestamp = CD.date_timestamp             AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A
            FROM consultation C
            WHERE (C.VAT_doctor NOT IN (SELECT CD.VAT_doctor FROM consultation_diagnostic CD)
              OR C.date_timestamp NOT IN (SELECT CD.date_timestamp FROM consultation_diagnostic CD))
            AND C.VAT_doctor = '11982'
            AND C.date_timestamp = '2020-12-13 12:12:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A             FROM consultation C             WHERE (C.VAT_doctor NOT IN (SELECT CD.VAT_doctor FROM consultation_diagnostic CD)               OR C.date_timestamp NOT IN (SELECT CD.date_timestamp FROM consultation_diagnostic CD))             AND C.VAT_doctor = '11982'             AND C.date_timestamp = '2020-12-13 12:12:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
delete from consultation where date_timestamp = '2019-11-26 16:00:00';
INSERT INTO consultation_assistant VALUES ('25001', '2019-11-26 16:00:00', '12309');
INSERT INTO consultation_assistant VALUES ('25001', '2019-11-26 16:00:00', '13490');
delete from consultation where date_timestamp = '2019-11-26 16:00:00';
INSERT INTO consultation_assistant VALUES ('25001', '2019-11-26 16:00:00', '12309');
INSERT INTO consultation_assistant VALUES ('25001', '2019-11-26 16:00:00', '13490');
INSERT INTO consultation_assistant (VAT_doctor, date_timestamp, VAT_nurse) VALUES ('25001', '2019-11-26 16:00:00', '13490');
INSERT INTO consultation_assistant VALUES ('25001', '2019-11-26 16:00:00', '12309');
delete from consultation where date_timestamp = '2019-11-26 16:00:00';
select ID from consultation_diagnostic CD left join consultation C 
on (C.VAT_doctor=CD.VAT_doctor and C.date_timestamp=CD.date_timestamp)
where (C.VAT_doctor is null and C.date_timestamp is null);
select ID from consultation_diagnostic CD left join consultation C  on (C.VAT_doctor=CD.VAT_doctor and C.date_timestamp=CD.date_timestamp) where (C.VAT_doctor is null and C.date_timestamp is null);
select ID from consultation_diagnostic;
select * from consultation_diagnostic;
select distinct CD.ID from consultation_diagnostic CD
where (CD.VAT_doctor not in (select C.VAT_doctor from consultation C)
or CD.date_timestamp not in (select C.date_timestamp from consultation C));
select distinct CD.ID from consultation_diagnostic CD where (CD.VAT_doctor not in (select C.VAT_doctor from consultation C) or CD.date_timestamp not in (select C.date_timestamp from consultation C));
select distinct CD.ID from consultation_diagnostic CD
where (CD.VAT_doctor not in (select C.VAT_doctor from consultation C)
and CD.date_timestamp not in (select C.date_timestamp from consultation C));
select distinct CD.ID from consultation_diagnostic CD where (CD.VAT_doctor not in (select C.VAT_doctor from consultation C) and CD.date_timestamp not in (select C.date_timestamp from consultation C));
select distinct CD.ID from consultation_diagnostic CD
where CD.date_timestamp not in (select C.date_timestamp from consultation C);
select distinct CD.ID from consultation_diagnostic CD where CD.date_timestamp not in (select C.date_timestamp from consultation C);
select distinct DC.ID from diagnostic_code DC
where (DC.ID not in (select CD.ID from consultation C);
select distinct DC.ID from diagnostic_code DC where (DC.ID not in (select CD.ID from consultation C);
select distinct DC.ID from diagnostic_code DC
where (DC.ID not in (select C.ID from consultation C);
select distinct DC.ID from diagnostic_code DC where (DC.ID not in (select C.ID from consultation C);
select distinct DC.ID from diagnostic_code DC
where DC.ID not in (select C.ID from consultation C);
select distinct DC.ID from diagnostic_code DC where DC.ID not in (select C.ID from consultation C);
select distinct DC.ID from diagnostic_code DC
where DC.ID not in (select CD.ID from consultation_diagnostic CD);
select distinct DC.ID from diagnostic_code DC where DC.ID not in (select CD.ID from consultation_diagnostic CD);
select ID from diagnostic_code DC left join consultation_diagnostic CD on CD.ID=DC.ID
where CD.ID is null; 
select ID from diagnostic_code DC left join consultation_diagnostic CD on CD.ID=DC.ID where CD.ID is null;
select DC.ID from diagnostic_code DC left join consultation_diagnostic CD on CD.ID=DC.ID
where CD.ID is null; 
select DC.ID from diagnostic_code DC left join consultation_diagnostic CD on CD.ID=DC.ID where CD.ID is null;
select DC.ID from diagnostic_code DC left join consultation_diagnostic CD on CD.ID=DC.ID
where CD.ID is null
and CD.VAT_doctor = '25001'
and CD.date_timestamp = '2019-11-26 16:00:00'; 
select DC.ID from diagnostic_code DC left join consultation_diagnostic CD on CD.ID=DC.ID where CD.ID is null and CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00';
SELECT DC.ID FROM diagnostic_code DC left outer join consultation_diagnostic CD on DC.ID = CD.ID
                where DC.ID not in (select ID from diagnostic_code left outer join consultation_diagnostic on DC.ID = CD.ID)
                group by ID;
SELECT DC.ID FROM diagnostic_code DC left outer join consultation_diagnostic CD on DC.ID = CD.ID                 where DC.ID not in (select ID from diagnostic_code left outer join consultation_diagnostic on DC.ID = CD.ID)                 group by ID;
SELECT DC.ID FROM diagnostic_code DC left outer join consultation_diagnostic CD on DC.ID = CD.ID
                where DC.ID not in (select DC.ID from diagnostic_code DC left outer join consultation_diagnostic CD on DC.ID = CD.ID)
                group by ID;
SELECT DC.ID FROM diagnostic_code DC left outer join consultation_diagnostic CD on DC.ID = CD.ID                 where DC.ID not in (select DC.ID from diagnostic_code DC left outer join consultation_diagnostic CD on DC.ID = CD.ID)                 group by ID;
select*from consultation_diagnostic;
select*from diagnostic_code;
select DC.ID from diagnostic_code DC, consultation_diagnostic CD
where C.VAT_doctor = '25001'
and C.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC, consultation_diagnostic CD where C.VAT_doctor = '25001' and C.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC, consultation_diagnostic CD
where CD.VAT_doctor = '25001'
and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC, consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC natural join consultation_diagnostic CD
where CD.VAT_doctor = '25001'
and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC natural join consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC left outer join consultation_diagnostic CD
where CD.VAT_doctor = '25001'
and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC left outer join consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC outer join consultation_diagnostic CD
where CD.VAT_doctor = '25001'
and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC outer join consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC left join consultation_diagnostic CD
where CD.VAT_doctor = '25001'
and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC left join consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00';
(select customer_name from depositor)
excpet
(select customer_name from borrower);
(select customer_name from depositor) excpet (select customer_name from borrower);
(select customer_name from depositor) except (select customer_name from borrower);
select DC.ID from diagnostic_code DC
and DC.ID not in (select CD.ID from consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00');
select DC.ID from diagnostic_code DC and DC.ID not in (select CD.ID from consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00');
select CD.ID from consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00';
select DC.ID from diagnostic_code DC;
select ID from diagnostic_code
and ID not in (select ID from consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00');
select ID from diagnostic_code and ID not in (select ID from consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00');
select DC.ID from diagnostic_code DC
where DC.ID not in (select CD.ID from consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00');
select DC.ID from diagnostic_code DC where DC.ID not in (select CD.ID from consultation_diagnostic CD where CD.VAT_doctor = '25001' and CD.date_timestamp = '2019-11-26 16:00:00');
delete from consultation where date_timestamp = '2019-11-26 16:00:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
delete from consultation where date_timestamp = '2019-11-26 16:00:00';
use ist187094
select*from consultation_diagnostic where date_timestamp = '2019-11-26 16:00:00';
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID
FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
OR C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P)
OR CD.ID NOT IN (SELECT P.ID FROM prescription P))
AND C.VAT_doctor = '25001'
AND C.date_timestamp = '2019-11-26 16:00:00'
AND C.VAT_doctor = CD.VAT_doctor
AND C.date_timestamp = CD.date_timestamp
AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID FROM consultation C, consultation_diagnostic CD, diagnostic_code DC WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P) OR C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P) OR CD.ID NOT IN (SELECT P.ID FROM prescription P)) AND C.VAT_doctor = '25001' AND C.date_timestamp = '2019-11-26 16:00:00' AND C.VAT_doctor = CD.VAT_doctor AND C.date_timestamp = CD.date_timestamp AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID
FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
AND C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P)
AND CD.ID NOT IN (SELECT P.ID FROM prescription P))
AND C.VAT_doctor = '25001'
AND C.date_timestamp = '2019-11-26 16:00:00'
AND C.VAT_doctor = CD.VAT_doctor
AND C.date_timestamp = CD.date_timestamp
AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID FROM consultation C, consultation_diagnostic CD, diagnostic_code DC WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P) AND C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P) AND CD.ID NOT IN (SELECT P.ID FROM prescription P)) AND C.VAT_doctor = '25001' AND C.date_timestamp = '2019-11-26 16:00:00' AND C.VAT_doctor = CD.VAT_doctor AND C.date_timestamp = CD.date_timestamp AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
OR C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P))
AND C.VAT_doctor = '25001'
AND C.date_timestamp = '2019-11-26 16:00:00'
AND C.VAT_doctor = CD.VAT_doctor
AND C.date_timestamp = CD.date_timestamp
AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description FROM consultation C, consultation_diagnostic CD, diagnostic_code DC WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P) OR C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P)) AND C.VAT_doctor = '25001' AND C.date_timestamp = '2019-11-26 16:00:00' AND C.VAT_doctor = CD.VAT_doctor AND C.date_timestamp = CD.date_timestamp AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P)
OR C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P))
AND C.VAT_doctor = '15101'
AND C.date_timestamp = '2020-12-13 12:12:00'
AND C.VAT_doctor = CD.VAT_doctor
AND C.date_timestamp = CD.date_timestamp
AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description FROM consultation C, consultation_diagnostic CD, diagnostic_code DC WHERE (C.VAT_doctor NOT IN (SELECT P.VAT_doctor FROM prescription P) OR C.date_timestamp NOT IN (SELECT P.date_timestamp FROM prescription P)) AND C.VAT_doctor = '15101' AND C.date_timestamp = '2020-12-13 12:12:00' AND C.VAT_doctor = CD.VAT_doctor AND C.date_timestamp = CD.date_timestamp AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
WHERE C.VAT_doctor, C.date_timestamp, CD.ID  NOT IN (SELECT P.VAT_doctor, P.date_timestamp, P.ID FROM prescription P)
AND C.VAT_doctor = '25001'
AND C.date_timestamp = '2019-11-26 16:00:00'
AND C.VAT_doctor = CD.VAT_doctor
AND C.date_timestamp = CD.date_timestamp
AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description FROM consultation C, consultation_diagnostic CD, diagnostic_code DC WHERE C.VAT_doctor, C.date_timestamp, CD.ID  NOT IN (SELECT P.VAT_doctor, P.date_timestamp, P.ID FROM prescription P) AND C.VAT_doctor = '25001' AND C.date_timestamp = '2019-11-26 16:00:00' AND C.VAT_doctor = CD.VAT_doctor AND C.date_timestamp = CD.date_timestamp AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
WHERE CD.ID  NOT IN (SELECT P.ID FROM prescription P)
AND C.VAT_doctor = '25001'
AND C.date_timestamp = '2019-11-26 16:00:00'
AND C.VAT_doctor = CD.VAT_doctor
AND C.date_timestamp = CD.date_timestamp
AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description FROM consultation C, consultation_diagnostic CD, diagnostic_code DC WHERE CD.ID  NOT IN (SELECT P.ID FROM prescription P) AND C.VAT_doctor = '25001' AND C.date_timestamp = '2019-11-26 16:00:00' AND C.VAT_doctor = CD.VAT_doctor AND C.date_timestamp = CD.date_timestamp AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description
FROM consultation C, consultation_diagnostic CD, diagnostic_code DC
WHERE CD.ID  NOT IN (SELECT P.ID FROM prescription P WHERE P.VAT_doctor='25001' AND P.date_timestamp='2019-11-26 16:00:00')
AND C.VAT_doctor = '25001'
AND C.date_timestamp = '2019-11-26 16:00:00'
AND C.VAT_doctor = CD.VAT_doctor
AND C.date_timestamp = CD.date_timestamp
AND CD.ID = DC.ID;
SELECT C.VAT_doctor, C.date_timestamp, C.SOAP_S, C.SOAP_O, C.SOAP_A, C.SOAP_P, CD.ID, DC._description FROM consultation C, consultation_diagnostic CD, diagnostic_code DC WHERE CD.ID  NOT IN (SELECT P.ID FROM prescription P WHERE P.VAT_doctor='25001' AND P.date_timestamp='2019-11-26 16:00:00') AND C.VAT_doctor = '25001' AND C.date_timestamp = '2019-11-26 16:00:00' AND C.VAT_doctor = CD.VAT_doctor AND C.date_timestamp = CD.date_timestamp AND CD.ID = DC.ID;
delete from consultation where date_timestamp = '2019-11-26 16:00:00';
delete from consultation where date_timestamp = '2020-12-13 12:12:00';
delete from consultation where date_timestamp = '2019-11-26 16:00:00';
use ist187094
select no_shows('M','2020',20,50);
use ist187094
current_timestamp;
current_timestamp
;
select CURRENT_TIMESTAMP;
select CONTCAT('Data e hora actual:',CURRENT_TIMESTAMP);
select CONCAT('Data e hora actual:',CURRENT_TIMESTAMP);
SELECT count(A.VAT_client)
FROM appointment A, client C
WHERE C.VAT = A.VAT_client
AND C.gender = 'M'
AND A.date_timestamp LIKE CONCAT('2019', '%')
AND C.age BETWEEN 10 AND 100
AND A.date_timestamp < CURRENT_TIMESTAMP;
SELECT count(A.VAT_client) FROM appointment A, client C WHERE C.VAT = A.VAT_client AND C.gender = 'M' AND A.date_timestamp LIKE CONCAT('2019', '%') AND C.age BETWEEN 10 AND 100 AND A.date_timestamp < CURRENT_TIMESTAMP;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client, 
FROM appointment A, client C
WHERE C.VAT = A.VAT_client
AND C.gender = 'M'
AND A.date_timestamp LIKE CONCAT('2019', '%')
AND C.age BETWEEN 10 AND 100
AND A.date_timestamp < CURRENT_TIMESTAMP;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client,  FROM appointment A, client C WHERE C.VAT = A.VAT_client AND C.gender = 'M' AND A.date_timestamp LIKE CONCAT('2019', '%') AND C.age BETWEEN 10 AND 100 AND A.date_timestamp < CURRENT_TIMESTAMP;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client, 
FROM appointment A, client C
WHERE C.VAT = A.VAT_client
AND C.gender = 'M'
AND A.date_timestamp LIKE CONCAT('2019', '%')
AND C.age BETWEEN 10 AND 100;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client,  FROM appointment A, client C WHERE C.VAT = A.VAT_client AND C.gender = 'M' AND A.date_timestamp LIKE CONCAT('2019', '%') AND C.age BETWEEN 10 AND 100;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client
FROM appointment A, client C
WHERE C.VAT = A.VAT_client
AND C.gender = 'M'
AND A.date_timestamp LIKE CONCAT('2019', '%')
AND C.age BETWEEN 10 AND 100;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client FROM appointment A, client C WHERE C.VAT = A.VAT_client AND C.gender = 'M' AND A.date_timestamp LIKE CONCAT('2019', '%') AND C.age BETWEEN 10 AND 100;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client
FROM appointment A, client C
WHERE C.VAT = A.VAT_client
AND C.gender = 'M'
AND A.date_timestamp LIKE CONCAT('2019', '%')
AND C.age BETWEEN 10 AND 100
AND A.date_timestamp < CURRENT_TIMESTAMP;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client FROM appointment A, client C WHERE C.VAT = A.VAT_client AND C.gender = 'M' AND A.date_timestamp LIKE CONCAT('2019', '%') AND C.age BETWEEN 10 AND 100 AND A.date_timestamp < CURRENT_TIMESTAMP;
select * from appointment;
select * from client;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client
FROM appointment A, client C
WHERE C.VAT = A.VAT_client
AND C.gender = 'M'
AND A.date_timestamp LIKE CONCAT('2019', '%')
AND C.age BETWEEN 10 AND 100
AND A.date_timestamp < CURRENT_TIMESTAMP;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client FROM appointment A, client C WHERE C.VAT = A.VAT_client AND C.gender = 'M' AND A.date_timestamp LIKE CONCAT('2019', '%') AND C.age BETWEEN 10 AND 100 AND A.date_timestamp < CURRENT_TIMESTAMP;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client
FROM appointment A, client C
WHERE C.VAT = A.VAT_client
AND C.gender = 'M'
AND A.date_timestamp LIKE CONCAT('2019', '%')
AND C.age BETWEEN 10 AND 100;
SELECT A.VAT_doctor, A.date_timestamp, A._description, A.VAT_client FROM appointment A, client C WHERE C.VAT = A.VAT_client AND C.gender = 'M' AND A.date_timestamp LIKE CONCAT('2019', '%') AND C.age BETWEEN 10 AND 100;
use ist187094
select*from nurse;
SHOW TABLES;
describe consultation_assistant;
change table consultation_assistant
 (VAT_doctor char(10),
  date_timestamp char(20),
  VAT_nurse char(10),
  primary key(VAT_doctor, date_timestamp, VAT_nurse),
  foreign key(VAT_doctor, date_timestamp) references consultation(VAT_doctor, date_timestamp) on delete cascade,
  foreign key(VAT_nurse) references nurse(VAT) on delete cascade);
change table consultation_assistant  (VAT_doctor char(10),   date_timestamp char(20),   VAT_nurse char(10),   primary key(VAT_doctor, date_timestamp, VAT_nurse),   foreign key(VAT_doctor, date_timestamp) references consultation(VAT_doctor, date_timestamp) on delete cascade,   foreign key(VAT_nurse) references nurse(VAT) on delete cascade);
edit table consultation_assistant
 (VAT_doctor char(10),
  date_timestamp char(20),
  VAT_nurse char(10),
  primary key(VAT_doctor, date_timestamp, VAT_nurse),
  foreign key(VAT_doctor, date_timestamp) references consultation(VAT_doctor, date_timestamp) on delete cascade,
  foreign key(VAT_nurse) references nurse(VAT) on delete cascade);
edit table consultation_assistant  (VAT_doctor char(10),   date_timestamp char(20),   VAT_nurse char(10),   primary key(VAT_doctor, date_timestamp, VAT_nurse),   foreign key(VAT_doctor, date_timestamp) references consultation(VAT_doctor, date_timestamp) on delete cascade,   foreign key(VAT_nurse) references nurse(VAT) on delete cascade);
create table consultation_assistant
 (VAT_doctor char(10),
  date_timestamp char(20),
  VAT_nurse char(10),
  primary key(VAT_doctor, date_timestamp, VAT_nurse),
  foreign key(VAT_doctor, date_timestamp) references consultation(VAT_doctor, date_timestamp) on delete cascade,
  foreign key(VAT_nurse) references nurse(VAT) on delete cascade);
create table consultation_assistant  (VAT_doctor char(10),   date_timestamp char(20),   VAT_nurse char(10),   primary key(VAT_doctor, date_timestamp, VAT_nurse),   foreign key(VAT_doctor, date_timestamp) references consultation(VAT_doctor, date_timestamp) on delete cascade,   foreign key(VAT_nurse) references nurse(VAT) on delete cascade);
drop table consultation_assistant;
create table consultation_assistant
 (VAT_doctor char(10),
  date_timestamp char(20),
  VAT_nurse char(10),
  primary key(VAT_doctor, date_timestamp, VAT_nurse),
  foreign key(VAT_doctor, date_timestamp) references consultation(VAT_doctor, date_timestamp) on delete cascade,
  foreign key(VAT_nurse) references nurse(VAT) on delete cascade);
create table consultation_assistant  (VAT_doctor char(10),   date_timestamp char(20),   VAT_nurse char(10),   primary key(VAT_doctor, date_timestamp, VAT_nurse),   foreign key(VAT_doctor, date_timestamp) references consultation(VAT_doctor, date_timestamp) on delete cascade,   foreign key(VAT_nurse) references nurse(VAT) on delete cascade);
describe consulation_assistant;
describe table consulation_assistant;
DESCRIBE consultation_assistant;
show tables;
